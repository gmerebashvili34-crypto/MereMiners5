# MereMiners environment variables
# Copy this file to .env and fill in real values

# Database (Supabase Postgres)
# Example: postgresql://postgres:<password>@db.<ref>.supabase.co:5432/postgres?sslmode=require
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_REF.supabase.co:5432/postgres?sslmode=requirepostgresql

# TRON / TronGrid
TRONGRID_API_KEY=f9db0c78-1699-4ecc-b067-7e52004a0495
TRONGRID_URL=https://api.trongrid.io
# Platform wallet private key (prefer this)
COLD_WALLET_PRIVATE_KEY=your-platform-wallet-private-key
# Legacy fallback name used in some utilities (optional if COLD_WALLET_PRIVATE_KEY is set)
TRON_PRIVATE_KEY=

# USDT TRC-20 Contract (Mainnet). You usually don't need to change this.
USDT_CONTRACT=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t

# AES-256 key for encrypting hot wallet private keys (32-byte hex/base64 or passphrase)
ENCRYPTION_KEY=change-me

# JWT auth for new USDT endpoints
JWT_SECRET=use-a-strong-secret

# USDT workers configuration
USDT_CONFIRMATIONS=1
DEPOSIT_SCAN_CRON=*/30 * * * * *
WITHDRAW_SCAN_CRON=*/20 * * * * *
WITHDRAW_BATCH_SIZE=5

# Sweeper (custody consolidation)
# Set to true to enable the sweeper that consolidates user deposit USDT into the platform wallet
SWEEP_ENABLED=false
# Sweep only when address USDT balance >= this threshold
SWEEP_MIN_USDT=1
# Minimum TRX gas balance required in user wallet; if below, platform tops up with SWEEP_TOPUP_TRX
SWEEP_MIN_TRX=10
# TRX top-up amount sent from platform wallet to user wallet to cover gas
SWEEP_TOPUP_TRX=20
# Cron expression for sweep runs (default: every 90 seconds)
SWEEP_CRON=*/90 * * * * *

# Legacy monitor (deprecated) - keep disabled when using USDT jobs + sweeper
LEGACY_DEPOSIT_MONITOR=false

# Supabase (Storage/API)
SUPABASE_URL=https://bdwzdemtvudtjpnxiwxt.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkd3pkZW10dnVkdGpwbnhpd3h0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzYzODcsImV4cCI6MjA3NzA1MjM4N30.rWkNdMsExeZ8HIBRjGsdF0egGsMhMhuRoVIAGVjQLxI
# Optional (server-only, recommended for uploads and bucket management)
SUPABASE_SERVICE_KEY=

# Optional: Node environment
NODE_ENV=development

# Server port
PORT=3000
SESSION_SECRET=change-this-in-production

# Google Sign-In (OAuth) â€” client and server need the same Client ID

# SMTP (optional, for password reset emails). If not set, reset links are logged in the server console.
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM="MereMiners <no-reply@mereminers.com>"
